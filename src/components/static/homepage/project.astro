---
import { Image } from "astro:assets";
import type { ImageMetadata } from "astro";
import type { TechLinkIcon } from "../icon.astro";
import Icon from "../icon.astro";
import ArrowExternalSvg from "../arrow-external-svg.astro";
export interface Props {
  title: string;
  description: string;
  href: string;
  image: ImageMetadata;
  blank?: boolean;
  icon?: TechLinkIcon;
}
---

<a
  href={Astro.props.href}
  rel={Astro.props.blank ? "noopener noreferrer" : "noopener"}
  target={Astro.props.blank ? "_blank" : undefined}
  class="flex w-full items-center justify-between rounded border border-neutral-200 bg-neutral-50 px-3 py-4 dark:border-neutral-700 dark:bg-neutral-800"
>
  <div class="flex items-center space-x-3">
    <div class="relative h-16">
      <div
        class="aspect-square h-16 w-16 rounded-full border border-neutral-200 dark:border-neutral-700"
      >
        <Image
          src={Astro.props.image}
          alt={Astro.props.title}
          width="64"
          height="64"
          class="h-full w-full rounded-full"
          style="color: transparent;"
        />
      </div>
      {
        Astro.props.icon !== undefined && (
          <div class="relative -right-10 -top-6 inline-flex h-6 w-6 items-center rounded-full border border-neutral-200 bg-white p-1 dark:border-neutral-700">
            <Icon icon={Astro.props.icon} />
          </div>
        )
      }
    </div>
    <div class="flex flex-col">
      <p class="font-bold text-neutral-900 dark:text-neutral-100">
        {Astro.props.title}
      </p>
      <p class="text-sm leading-tight text-neutral-600 dark:text-neutral-400">
        {Astro.props.description}
      </p>
    </div>
  </div>
  <div class="text-neutral-700 dark:text-neutral-300">
    <ArrowExternalSvg />
  </div>
</a>
