import{R as g,r as v,g as De}from"./index.6460afdd.js";import{_ as z,a as D,j as p}from"./jsx-runtime.a089ee86.js";import{c as Ie}from"./client.352409db.js";var He=["size","color"];function we(e){var t=e.size,n=t===void 0?24:t,r=e.color,s=r===void 0?"currentColor":r,o=z(e,He);return g.createElement("svg",D({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-eye-off",width:n,height:n,viewBox:"0 0 24 24",stroke:s,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},o),g.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),g.createElement("line",{x1:"3",y1:"3",x2:"21",y2:"21"}),g.createElement("path",{d:"M10.584 10.587a2 2 0 0 0 2.828 2.83"}),g.createElement("path",{d:"M9.363 5.365a9.466 9.466 0 0 1 2.637 -.365c4 0 7.333 2.333 10 7c-.778 1.361 -1.612 2.524 -2.503 3.488m-2.14 1.861c-1.631 1.1 -3.415 1.651 -5.357 1.651c-4 0 -7.333 -2.333 -10 -7c1.369 -2.395 2.913 -4.175 4.632 -5.341"}))}var Fe=["size","color"];function je(e){var t=e.size,n=t===void 0?24:t,r=e.color,s=r===void 0?"currentColor":r,o=z(e,Fe);return g.createElement("svg",D({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-eye",width:n,height:n,viewBox:"0 0 24 24",stroke:s,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},o),g.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),g.createElement("circle",{cx:"12",cy:"12",r:"2"}),g.createElement("path",{d:"M22 12c-2.667 4.667 -6 7 -10 7s-7.333 -2.333 -10 -7c2.667 -4.667 6 -7 10 -7s7.333 2.333 10 7"}))}var Be=["size","color"];function Ve(e){var t=e.size,n=t===void 0?24:t,r=e.color,s=r===void 0?"currentColor":r,o=z(e,Be);return g.createElement("svg",D({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-square-check",width:n,height:n,viewBox:"0 0 24 24",stroke:s,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},o),g.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),g.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"}),g.createElement("path",{d:"M9 12l2 2l4 -4"}))}var Ge=["size","color"];function qe(e){var t=e.size,n=t===void 0?24:t,r=e.color,s=r===void 0?"currentColor":r,o=z(e,Ge);return g.createElement("svg",D({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-square-minus",width:n,height:n,viewBox:"0 0 24 24",stroke:s,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},o),g.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),g.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"}),g.createElement("line",{x1:"9",y1:"12",x2:"15",y2:"12"}))}var We=["size","color"];function Ye(e){var t=e.size,n=t===void 0?24:t,r=e.color,s=r===void 0?"currentColor":r,o=z(e,We);return g.createElement("svg",D({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-square",width:n,height:n,viewBox:"0 0 24 24",stroke:s,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},o),g.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),g.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"}))}const ce=e=>{let t;const n=new Set,r=(l,h)=>{const c=typeof l=="function"?l(t):l;if(!Object.is(c,t)){const d=t;t=h??typeof c!="object"?c:Object.assign({},t,c),n.forEach(u=>u(t,d))}},s=()=>t,i={setState:r,getState:s,subscribe:l=>(n.add(l),()=>n.delete(l)),destroy:()=>{n.clear()}};return t=e(r,s,i),i},Ke=e=>e?ce(e):ce;var $e={exports:{}},ke={},_e={exports:{}},Ne={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T=v;function Xe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ue=typeof Object.is=="function"?Object.is:Xe,Je=T.useState,Qe=T.useEffect,Ze=T.useLayoutEffect,et=T.useDebugValue;function tt(e,t){var n=t(),r=Je({inst:{value:n,getSnapshot:t}}),s=r[0].inst,o=r[1];return Ze(function(){s.value=n,s.getSnapshot=t,U(s)&&o({inst:s})},[e,n,t]),Qe(function(){return U(s)&&o({inst:s}),e(function(){U(s)&&o({inst:s})})},[e]),et(n),n}function U(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ue(e,n)}catch{return!0}}function nt(e,t){return t()}var rt=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?nt:tt;Ne.useSyncExternalStore=T.useSyncExternalStore!==void 0?T.useSyncExternalStore:rt;_e.exports=Ne;var st=_e.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G=v,ot=st;function lt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var it=typeof Object.is=="function"?Object.is:lt,ct=ot.useSyncExternalStore,at=G.useRef,ut=G.useEffect,dt=G.useMemo,pt=G.useDebugValue;ke.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var o=at(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=dt(function(){function l(f){if(!h){if(h=!0,c=f,f=r(f),s!==void 0&&a.hasValue){var m=a.value;if(s(m,f))return d=m}return d=f}if(m=d,it(c,f))return m;var w=r(f);return s!==void 0&&s(m,w)?m:(c=f,d=w)}var h=!1,c,d,u=n===void 0?null:n;return[function(){return l(t())},u===null?void 0:function(){return l(u())}]},[t,n,r,s]);var i=ct(e,o[0],o[1]);return ut(function(){a.hasValue=!0,a.value=i},[i]),pt(i),i};$e.exports=ke;var ft=$e.exports;const ht=De(ft),{useSyncExternalStoreWithSelector:mt}=ht;function yt(e,t=e.getState,n){const r=mt(e.subscribe,e.getState,e.getServerState||e.getState,t,n);return v.useDebugValue(r),r}const ae=e=>{const t=typeof e=="function"?Ke(e):e,n=(r,s)=>yt(t,r,s);return Object.assign(n,t),n},bt=e=>e?ae(e):ae,Te={0:"No data",1:"Singleplayer",2:"Multiplayer",3:"Co-operative",4:"Split-screen",5:"MMO",6:"Battle-Royale"},Ce={0:"No data",1:"First person",2:"Third person",3:"Isometric",4:"Side view",5:"Text",6:"Auditory",7:"Virtual Reality"},te=e=>Te[e]??`Not implemented ${e}`,ne=e=>Ce[e]??`Not implemented ${e}`,q=bt(e=>({yearAfter:"",yearBefore:"",yearExact:"",genres:{},themes:{},publisher:{},gameModes:Object.fromEntries(Object.values(Te).map(t=>[t,"non-selected"])),perspectives:Object.fromEntries(Object.values(Ce).map(t=>[t,"non-selected"])),set:e})),C=({_key:e,list:t})=>{const[n]=q(o=>[o.set]),[r,s]=v.useState(!1);return p.jsxs("div",{className:"flex flex-col items-start gap-0.5",children:[p.jsxs("button",{onClick:()=>s(o=>!o),className:"flex w-full items-center justify-center gap-0.5 rounded-md border border-zinc-300 px-2 py-0.5",children:[r?p.jsx(we,{}):p.jsx(je,{}),p.jsxs("span",{children:[e[0].toLocaleUpperCase(),e.slice(1).toLocaleLowerCase()]})]}),r?p.jsx(p.Fragment,{children:Object.entries(t).map(([o,a])=>p.jsxs("button",{onClick:()=>{n(a==="disabled"?{[e]:{...t,[o]:"enabled"}}:a==="enabled"?{[e]:{...t,[o]:"non-selected"}}:{[e]:{...t,[o]:"disabled"}})},className:"flex items-center justify-center gap-0.5",children:[a==="non-selected"?p.jsx(Ye,{}):a==="disabled"?p.jsx(qe,{}):p.jsx(Ve,{}),o]},o))}):null]})},gt=()=>{const[e,t]=v.useState(!1),n=q(r=>({yearBefore:r.yearBefore,yearAfter:r.yearAfter,yearExact:r.yearExact,set:r.set}));return p.jsxs("div",{children:[p.jsxs("button",{onClick:()=>t(r=>!r),className:"flex w-full items-center justify-center gap-0.5 rounded-md border border-zinc-300 px-2 py-0.5",children:[e?p.jsx(we,{}):p.jsx(je,{}),p.jsx("span",{children:"Release year"})]}),e?p.jsxs(p.Fragment,{children:[p.jsxs("div",{children:[p.jsx("i",{children:"Released before"}),p.jsx("input",{className:"rounded-md border border-zinc-300 bg-transparent py-0.5 px-2",type:"text",value:n.yearBefore,min:-1,step:1,max:new Date().getFullYear()+50,onChange:r=>n.set(()=>({yearBefore:r.currentTarget.value}))})]}),p.jsxs("div",{children:[p.jsx("i",{children:"Released after"}),p.jsx("input",{className:"rounded-md border border-zinc-300 bg-transparent py-0.5 px-2",type:"text",value:n.yearAfter,min:-1,step:1,max:new Date().getFullYear()+50,onChange:r=>n.set(()=>({yearAfter:r.currentTarget.value}))})]}),p.jsxs("div",{children:[p.jsx("i",{children:"Released exact"}),p.jsx("input",{className:"rounded-md border border-zinc-300 bg-transparent py-0.5 px-2",type:"text",value:n.yearExact,min:-1,step:1,max:new Date().getFullYear()+50,onChange:r=>n.set(()=>({yearExact:r.currentTarget.value}))})]})]}):null]})},xt=()=>{const e=q();return p.jsxs("div",{className:"grid w-full grid-cols-4 gap-2 rounded-md border border-zinc-300 p-4",children:[p.jsx(C,{_key:"genres",list:e.genres}),p.jsx(C,{_key:"themes",list:e.themes}),p.jsx(gt,{}),p.jsx(C,{_key:"gameModes",list:e.gameModes}),p.jsx(C,{_key:"publisher",list:e.publisher}),p.jsx(C,{_key:"perspectives",list:e.perspectives})]})},J=e=>e!==""&&!Number.isNaN(+e),M=e=>e.filter(([,t])=>t==="disabled").map(([t])=>t),A=e=>e.filter(([,t])=>t==="enabled").map(([t])=>t),vt=(e,t)=>{const n=Object.entries(t.genres),r=Object.entries(t.publisher),s=Object.entries(t.themes),o=Object.entries(t.perspectives),a=Object.entries(t.gameModes),i=M(n),l=M(r),h=M(s),c=M(o),d=M(a),u=A(n),f=A(r),m=A(s),w=A(o),S=A(a);return e.filter(b=>{if(J(t.yearExact)){if(b.releaseYear!==t.yearExact)return!1}else if(J(t.yearAfter)&&+b.releaseYear<=+t.yearAfter||J(t.yearBefore)&&+b.releaseYear>=+t.yearBefore)return!1;for(const y of b.genres)if(i.includes(y.name))return!1;for(const y of u)if(!b.genres.map(x=>x.name).includes(y))return!1;for(const y of b.themes)if(h.includes(y.name))return!1;for(const y of m)if(!b.themes.map(x=>x.name).includes(y))return!1;for(const y of b.involved_companies)if(l.includes(y.name))return!1;for(const y of f)if(!b.involved_companies.map(x=>x.name).includes(y))return!1;for(const y of b.player_perspectives){const x=ne(y);if(c.includes(x))return!1}for(const y of w)if(!b.player_perspectives.map(x=>ne(x)).includes(y))return!1;for(const y of b.game_modes){const x=te(y);if(d.includes(x))return!1}for(const y of S)if(!b.game_modes.map(x=>te(x)).includes(y))return!1;return!0})},Me=function({game:e}){return p.jsxs("li",{className:"mb-2 grid grid-cols-9 items-center gap-0.5 border-b border-zinc-300 pb-2 last-of-type:border-b-0",children:[p.jsx("div",{style:{backgroundImage:`url(https://d2c6c3qulxklrf.cloudfront.net/covers/webp/${e.s3_id}.webp)`,backgroundSize:"cover",backgroundPosition:"center center"},className:"grid aspect-[9/12] w-full place-items-center text-center",children:p.jsx("span",{className:"bg-white/70 p-0.5",children:e.label})}),p.jsx("div",{className:"grid place-items-center text-center",children:e.platforms.map(t=>t.name).join(`
`)}),p.jsx("div",{className:"grid place-items-center text-center",children:e.genres.map(t=>t.name).join(`
`)}),p.jsx("div",{className:"grid place-items-center text-center",children:e.themes.map(t=>t.name).join(`
`)}),p.jsx("div",{className:"grid place-items-center text-center",children:e.releaseYear}),p.jsx("div",{className:"grid place-items-center text-center",children:e.game_modes.map(t=>te(t)).join(`
`)}),p.jsx("div",{className:"grid place-items-center text-center",children:e.game_engines.map(t=>t.name).join(`
`)}),p.jsx("div",{className:"grid place-items-center text-center",children:e.involved_companies.map(t=>t.name).join(`
`)}),p.jsx("div",{className:"grid place-items-center text-center",children:e.player_perspectives.map(t=>ne(t)).join(`
`)})]})};console.log(Me);const Et=Object,W=Map,I=Set,le=I.prototype.has,St=I.prototype.add,ue=W.prototype.has,de=W.prototype.get,Ae=W.prototype.set,N=1,re=2,P=4,V=8,wt=16,jt=32,$="__t",pe="__p",se="__e",$t=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,kt="http://www.w3.org/1999/xlink",_t="http://www.w3.org/2000/xmlns/",Nt=120,Tt=new I(["href","list","form","tabIndex","download"]),Ct=new I(["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","isindex","keygen","link","menuitem","meta","nextid","param","source","track","wbr"]);if(typeof window>"u")throw new Error("See http://million.dev/docs/install to install the compiler.");const j=document,fe=queueMicrotask;j.createElement("template");const Oe=j.createElement("template"),Mt=Oe.content,At=j.createElement("template"),Ot=j.createElementNS("http://www.w3.org/2000/svg","svg"),Pt=At.content.firstChild,_=Node.prototype,Y=Element.prototype,Rt=CharacterData.prototype,K=Et.getOwnPropertyDescriptor,B=_.insertBefore,Lt=_.cloneNode,zt=_.replaceChild,Dt=Y.remove,It=_.addEventListener,Ht=Y.removeAttribute,Ft=Y.setAttribute,he=Y.setAttributeNS,Bt=K(_,"textContent").set,Vt=K(_,"firstChild").get,Gt=K(_,"nextSibling").get,qt=K(Rt,"data").set;j[se]=new I;const me=(e,t,n)=>{const r=t.toLowerCase(),s=`$$${r}`;le.call(j[se],r)||(It.call(j,r,a=>{a.stopPropagation=()=>{a.cancelBubble=!0,a.stopImmediatePropagation()},requestAnimationFrame(()=>{let i=a.target;for(;i;){const l=i[s];l&&(Object.defineProperty(a,"currentTarget",{configurable:!0,get(){return i}}),l(a)),i=i.parentNode}})}),St.call(j[se],r));const o=a=>{a?"key"in a&&a.key===e[s]?.key||(e[s]=a):e[s]=null};return o(n),o},R=(e,t)=>{let n=Vt.call(e);if(t)for(let r=0;r<t&&n;++r)n=Gt.call(n);return n},ye=(e,t,n)=>{const r=j.createTextNode(t),s=R(e,n);return B.call(e,r,s),r},Wt=(e,t)=>{qt.call(e,t)},F=(e,t,n)=>{typeof n!="number"||$t.test(t)?e.style[t]=n:typeof n=="string"?e.style.cssText=n:t.startsWith("-")?e.style.setProperty(t,String(n)):n==null?e.style[t]="":e.style[t]=`${String(n)}px`},be=(e,t,n)=>{t=t.replace(/xlink(?:H|:h)/,"h").replace(/sName$/,"s"),t.startsWith("xmlns")?he.call(e,_t,t,String(n)):t.startsWith("xlink")&&he.call(e,kt,"href",String(n))},ge=(e,t,n)=>{const r=n==null;if(n=r?"":n,t in e&&e[t]!==void 0&&e[t]!==null&&!(e instanceof SVGElement)&&le.call(Tt,t))try{e[t]=n}catch{}else!r&&n!==""&&(n!==!1||t.includes("-"))?Ft.call(e,t,String(n)):Ht.call(e,t)};class L{}const Pe=(e,t=[],n=[])=>{if(typeof e=="string")return e;if(typeof e=="number"||typeof e=="bigint"||e===!0)return String(e);if(e==null||e===!1)return"";if(typeof e=="object"&&"$"in e)return t.push({p:n,e:[{t:N,n:null,v:null,h:e.$,i:0,l:null,p:null,b:null}],i:[]}),"<slot/>";let r="",s="";const o={p:n,e:[],i:[]};for(let i in e.props){const l=e.props[i];if(!(i==="key"||i==="ref"||i==="children")){if(i==="className"&&(i="class"),i==="htmlFor"&&(i="for"),i.startsWith("on")){"$"in l?o.e.push({t:P,n:i.slice(2),v:null,h:l.$,i:null,l:null,p:null,b:null}):o.i.push({t:P,n:i.slice(2),v:null,h:null,i:null,l,p:null,b:null});continue}if(l){if(typeof l=="object"&&"$"in l){i==="style"?o.e.push({t:V,n:i,v:null,h:l.$,i:null,l:null,p:null,b:null}):i.charCodeAt(0)===Nt?o.e.push({t:wt,n:i,v:null,h:l.$,i:null,l:null,p:null,b:null}):o.e.push({t:re,n:i,v:null,h:l.$,i:null,l:null,p:null,b:null});continue}if(i==="style"&&typeof l=="object"){let h="";for(const c in l){if(typeof l[c]=="object"){o.e.push({t:V,n:c,v:null,h:l[c].$,i:null,l:null,p:null,b:null});continue}let d="";for(let u=0,f=c.length;u<f;++u){const m=c.charCodeAt(u);m<97?d+=`-${String.fromCharCode(m+32)}`:d+=c[u]}h+=`${d}:${String(l[c])};`}r+=` style="${h}"`;continue}r+=` ${i}="${String(l)}"`}}}if(le.call(Ct,e.type))return o.e.length&&t.push(o),`<${e.type}${r} />`;let a=!1;for(let i=0,l=e.props.children?.length||0,h=0;i<l;++i){const c=e.props.children?.[i];if(c==null||c===!1)continue;if(typeof c=="object"&&"$"in c){o.e.push({t:N,n:null,v:null,h:c.$,i,l:null,p:null,b:null});continue}if(c instanceof L){o.i.push({t:jt,n:null,v:null,h:null,i,l:null,p:null,b:c});continue}if(typeof c=="string"||typeof c=="number"||typeof c=="bigint"){const u=typeof c=="number"||typeof c=="bigint"?String(c):c;if(a){o.i.push({t:N,n:null,v:u,h:null,i,l:null,p:null,b:null});continue}a=!0,s+=u,h++;continue}a=!1;const d=n.slice();d.push(h++),s+=Pe(c,t,d)}return(o.i.length||o.e.length)&&t.push(o),`<${e.type}${r}>${s}</${e.type}>`},xe=e=>new Re(e);class Re extends L{constructor(t){super(),this.b=t}v(){}p(t){const n=this.b,r=t.b,s=n.length,o=r.length,a=this.t();if(this===t||o===0&&s===0)return a;if(this.b=r,o===0)return Kt.call(this),a;if(s===0)return Le.call(t,a),a;let i=0,l=0,h=s-1,c=o-1,d=n[0],u=r[0],f=n[h],m=r[c],w;for(;i<=h&&l<=c;){if(!d){d=n[++i];continue}if(!f){f=n[--h];continue}const S=d.k,b=u.k;if(S===b){O.call(d,u),r[l]=d,d=n[++i],u=r[++l];continue}const y=f.k,x=m.k;if(y===x){O.call(f,m),r[c]=f,f=n[--h],m=r[--c];continue}if(S===x){O.call(d,m),r[c]=d;const E=r[c+1];Z.call(d,E,E?.l||null),d=n[++i],m=r[--c];continue}if(y===b){O.call(f,u),r[l]=f;const E=n[i];Z.call(f,E,E?.l||null),f=n[--h],u=r[++l];continue}if(!w){w=new W;for(let E=i;E<=h;E++)Ae.call(w,n[E].k,E)}const X=w.get(b);if(X===void 0)Q.call(u,a,d.l||null);else{const E=n[X];Z.call(E,d,null),O.call(E,u),r[l]=E,n[X]=null}u=r[++l]}if(i<=h||l<=c)if(i>h){const S=r[c+1];for(let b=l;b<=c;++b)Q.call(r[b],a,S?S.l:null)}else for(let S=i;S<=h;++S)Ee.call(n[S]);return a}m(t,n=null){if(this._t)return this._t;for(let r=0,s=this.b.length;r<s;++r){const o=this.b[r];Q.call(o,t,n)}return this._t=t,t}x(){const t=this.t();if(t)Bt.call(t,"");else for(let n=0,r=this.b.length;n<r;++n)Ee.call(this.b[n]);this.b=[]}u(){return!0}s(){return this.b.map(t=>t.s()).join("")}t(){return this._t||(this._t=this.b[0].t()),this._t}}const ie=Re.prototype,Le=ie.m,Yt=ie.p,Kt=ie.x,Xt=new Proxy({},{get(e,t){return{$:t}}}),Ut=(e,t,n,r)=>{const s=e(Xt),o=[],a=Jt(Pe(t?t(s):s,o),r);return(i,l,h)=>new ze(a,o,i,l??i?.key??null,h??n??null,null)};class ze extends L{constructor(t,n,r,s,o,a){super(),this.r=t,this.d=r,this.e=n,this.k=s,this.c=Array(n.length),o&&(this.u=o),a&&(this.g=a)}m(t,n=null){if(this.l)return this.l;const r=Lt.call(this.r,!0),s=this.g?.(r);s&&(this.c=s);for(let o=0,a=this.e.length;o<a;++o){const i=this.e[o],l=s?.[o]??ve(i.p,r,this.c,o);for(let c=0,d=i.e.length;c<d;++c){const u=i.e[c],f=this.d[u.h];if(u.t&N){if(f instanceof L){f.m(l,R(l,u.i));continue}if(l[$]||(l[$]=new Array(d)),typeof f=="function"){const m=f(null);l[$][c]=m,B.call(l,m,R(l,u.i));continue}l[$][c]=ye(l,f==null||f===!1?"":String(f),u.i)}else if(u.t&P){const m=me(l,u.n,f);l[pe+u.n]=m}else if(u.t&re)ge(l,u.n,f);else if(u.t&V)if(typeof f=="string")F(l,u.n,f);else for(const m in f)F(l,m,f[m]);else be(l,u.n,f)}const h=i.i?.length;if(h)for(let c=0;c<h;++c){const d=i.i[c];d.t&N?ye(l,d.v,d.i):d.t&P?me(l,d.n,d.l):d.b.m(l,R(l,d.i))}}return t&&B.call(t,r,n),this.l=r,r}p(t){const n=this.l;if(!t.d)return n;const r=this.d;if(!Qt.call(this,r,t.d))return n;this.d=t.d;for(let s=0,o=this.e.length;s<o;++s){const a=this.e[s],i=this.c[s]??ve(a.p,n,this.c,s);for(let l=0,h=a.e.length;l<h;++l){const c=a.e[l],d=r[c.h],u=t.d[c.h];if(u!==d){if(c.t&P){i[pe+c.n](u);continue}if(c.t&N){if(d instanceof L){const f=t.e?.[s]?.e[l],m=t.d[f.h];d.p(m);continue}if(typeof u=="function"){const f=i[$][l];if("unstable"in u&&d!==u){const m=u(null);i[$][l]=m,zt.call(i,m,f)}else u(f);continue}Wt(i[$][l],u==null||u===!1?"":String(u))}else if(c.t&re)ge(i,c.n,u);else if(c.t&V)if(typeof u=="string")F(i,c.n,u);else for(const f in u)u[f]!==d[f]&&F(i,f,u[f]);else be(i,c.n,u)}}}return n}v(t=null,n=null){B.call(this.t(),this.l,t?t.l:n)}x(){Dt.call(this.l),this.l=null}u(t,n){return!0}s(){return String(this.l?.outerHTML)}t(){return this._t||(this._t=this.l?.parentElement),this._t}}const ve=(e,t,n,r)=>{const s=e.length;if(!s)return t;if(n&&r!==void 0&&n[r])return n[r];for(let o=0;o<s;++o){const a=e[o];t=R(t,a)}return n&&r!==void 0&&(n[r]=t),t},Jt=(e,t)=>{const n=t?Ot:Oe;return n.innerHTML=e,(t?Pt:Mt).firstChild},H=ze.prototype,Q=H.m,O=H.p,Z=H.v,Ee=H.x,Qt=H.u,oe="slot",Zt="g",ee="__react_root",k=new Map,en=(e,t)=>{if(typeof window>"u")return v.createElement(oe,null,e);if(v.isValidElement(e)&&typeof e.type=="function"&&"callable"in e.type){const r=e.type(e.props);if(k.has(r.type)){const s=k.get(r.type);if(typeof s=="function")return s(r.props)}}const n=r=>{const s=r??document.createElement(oe);return(ee in s?s[ee]:s[ee]=Ie(s)).render(e),s};return t&&(n.unstable=!0),n},tn=({each:e,children:t,memo:n,svg:r,as:s,...o})=>{const a=v.useRef(null),i=v.useRef(null),l=v.useRef({each:null,children:null});i.current&&(e!==l.current.each||!n)&&fe(()=>{const c=Se(e,t,l,n);Yt.call(i.current,xe(c))}),v.useEffect(()=>{!a.current||i.current||fe(()=>{const c=Se(e,t,l,n);i.current=xe(c),Le.call(i.current,a.current)})},[a.current]);const h=r?Zt:oe;return v.createElement(s??h,{...o,ref:a})},nn=v.memo,rn=nn(tn),Se=(e,t,n,r)=>{const s=Array(e.length),o=n.current;for(let a=0,i=e.length;a<i;++a){if(r&&o.each&&o.each[a]===e[a]){s[a]=o.children?.[a];continue}const l=t(e[a],a);if(ue.call(k,l.type)){o.block||(o.block=de.call(k,l.type)),s[a]=o.block(l.props);continue}if(typeof l.type=="function"&&"callable"in l.type){const d=l.type(l.props);if(ue.call(k,d.type)){const u=de.call(k,d.type);if(typeof u=="function"){s[a]=u(d.props);continue}}}const h=Ut(d=>d?.scope),c=d=>h({scope:en(v.createElement(l.type,d))},l.key);Ae.call(k,l.type,c),o.block=c,s[a]=c(l.props)}return o.each=e,o.children=s,s},cn=({initial:e})=>{const t=q();v.useEffect(()=>{const r=new Set,s=new Set,o=new Set;for(const h of e){for(const c of h.genres)r.add(c.name);for(const c of h.involved_companies)s.add(c.name);for(const c of h.themes)o.add(c.name)}const a={},i={},l={};for(const h of r)a[h]="non-selected";for(const h of s)i[h]="non-selected";for(const h of o)l[h]="non-selected";t.set(()=>({genres:a,publisher:i,themes:l}))},[]);const n=v.useMemo(()=>vt(e,t),[t]);return p.jsxs("div",{className:"w-full space-y-2",children:[p.jsx(xt,{}),p.jsxs("div",{className:"w-full rounded-md border border-zinc-300 p-4",children:[p.jsxs("p",{className:"text-center",children:[p.jsx("span",{className:"font-bold",children:n.length})," games matching"]}),p.jsx(rn,{each:n,children:r=>p.jsx(Me,{game:r})})]})]})};export{cn as default};
